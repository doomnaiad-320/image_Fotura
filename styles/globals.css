@tailwind base;
@tailwind components;
@tailwind utilities;

/* ğŸ’ é«˜ç«¯é‡‘èç³»ä¸»é¢˜ - é»‘ç™½é‡‘é…è‰²æ–¹æ¡ˆ */
:root {
  color-scheme: light;
  /* Light ä¸»é¢˜ - çº¯ç™½èƒŒæ™¯ + ä½é¥±å’Œåº¦ */
  --background: 0 0% 99%;       /* #FCFCFC - æ¥è¿‘çº¯ç™½ */
  --foreground: 0 0% 10%;       /* #1A1A1A - æ·±é»‘æ–‡å­— */

  --muted: 0 0% 97%;            /* #F9F9F9 - è¾…åŠ©èƒŒæ™¯ */
  --muted-foreground: 0 0% 40%; /* #666666 - ä¸­ç°æ–‡å­— */

  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 10%;

  --card: 0 0% 100%;            /* çº¯ç™½å¡ç‰‡ */
  --card-foreground: 0 0% 10%;

  --border: 0 0% 92%;           /* #EBEBEB - æµ…ç°è¾¹æ¡† */
  --input: 0 0% 96%;            /* #F5F5F5 */

  --primary: 30 35% 60%;        /* #C49A6C - å¤é“œé‡‘ */
  --primary-foreground: 0 0% 100%;

  --secondary: 0 0% 95%;
  --secondary-foreground: 0 0% 10%;

  --accent: 30 35% 60%;         /* ä¸ primary ä¸€è‡´ */
  --accent-foreground: 0 0% 100%;

  --destructive: 0 72% 51%;
  --destructive-foreground: 0 0% 100%;

  --ring: 30 35% 60%;
  --radius: 0.375rem;           /* æ›´å°åœ†è§’ï¼Œæ›´æ­£å¼ */

  /* å¤é“œé‡‘å¼ºè°ƒè‰²ï¼ˆç›´æ¥ RGB å€¼ï¼‰ */
  --gold: 196 154 108;          /* #C49A6C */
  --gold-dark: 185 130 94;      /* #B9825E - æ‚¬åœæ€ */

  /* Bridge to existing project tokens */
  --color-bg: hsl(var(--background));
  --color-surface: hsl(var(--card));
  --color-surface-2: hsl(var(--muted));
  --color-border: hsl(var(--border));
  --color-foreground: hsl(var(--foreground));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-link: hsl(var(--primary));
  --color-nav-bg: hsl(var(--card));
  --color-scrim: rgba(0, 0, 0, 0.75);
  --color-on-accent: hsl(var(--primary-foreground));
  --color-gold: rgb(var(--gold));
  --color-gold-dark: rgb(var(--gold-dark));
}

html[data-theme='light'] {
  color-scheme: light;
}

html[data-theme='dark'] {
  color-scheme: dark;
  /* ğŸ–¤ Dark ä¸»é¢˜ - çº¯é»‘èƒŒæ™¯ + å¤é“œé‡‘ */
  --background: 0 0% 0%;        /* #000000 - çº¯é»‘èƒŒæ™¯ */
  --foreground: 0 0% 98%;       /* #FAFAFA - æ¥è¿‘çº¯ç™½æ–‡å­— */

  --muted: 0 0% 7%;             /* #111111 - æ·±ç°èƒŒæ™¯ */
  --muted-foreground: 0 0% 65%; /* #A6A6A6 - è¾…åŠ©æ–‡å­— */

  --popover: 0 0% 4%;           /* #0A0A0A */
  --popover-foreground: 0 0% 98%;

  --card: 0 0% 7%;              /* #111111 - å¡ç‰‡èƒŒæ™¯ */
  --card-foreground: 0 0% 98%;

  --border: 0 0% 15%;           /* #262626 - ç»†çº¿è¾¹æ¡† */
  --input: 0 0% 10%;            /* #1A1A1A - è¾“å…¥æ¡† */

  --primary: 30 35% 60%;        /* #C49A6C - å¤é“œé‡‘ï¼ˆä¿æŒä¸€è‡´ï¼‰*/
  --primary-foreground: 0 0% 0%;

  --secondary: 0 0% 12%;
  --secondary-foreground: 0 0% 98%;

  --accent: 30 35% 60%;
  --accent-foreground: 0 0% 0%;

  --destructive: 0 63% 31%;
  --destructive-foreground: 0 0% 98%;

  --ring: 30 35% 60%;
  --radius: 0.375rem;

  /* Bridge mapping */
  --color-bg: hsl(var(--background));
  --color-surface: hsl(var(--card));
  --color-surface-2: hsl(var(--muted));
  --color-border: hsl(var(--border));
  --color-foreground: hsl(var(--foreground));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-link: hsl(var(--primary));
  --color-nav-bg: hsl(var(--card));
  --color-scrim: rgba(0, 0, 0, 0.9);
  --color-on-accent: hsl(var(--primary-foreground));
  --color-gold: rgb(var(--gold));
  --color-gold-dark: rgb(var(--gold-dark));
}

body {
  @apply antialiased;
  /* æ— è¡¬çº¿å­—ä½“ç”¨äºæ­£æ–‡ */
  font-family: "Inter", "Helvetica Neue", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", sans-serif;
  background-color: var(--color-bg);
  color: var(--color-foreground);
  line-height: 1.8; /* æ›´å¤§è¡Œè·ï¼Œå¢å¼ºå‘¼å¸æ„Ÿ */
  letter-spacing: 0.01em;
}

/* ğŸ”¤ æ ‡é¢˜ä½¿ç”¨è¡¬çº¿å­—ä½“ - æƒå¨æ„Ÿ */
h1, h2, h3, h4, h5, h6 {
  font-family: "Playfair Display", Georgia, "Times New Roman", serif;
  font-weight: 600;
  letter-spacing: 0.02em;
  line-height: 1.3;
}

h1 { @apply text-5xl md:text-6xl mb-6; }
h2 { @apply text-3xl md:text-4xl mb-5; }
h3 { @apply text-2xl md:text-3xl mb-4; }
h4 { @apply text-xl md:text-2xl mb-3; }

/* æ®µè½é—´è· */
p { @apply mb-4; }

/* é‡‘è‰²ä¸‹åˆ’çº¿è£…é¥°ï¼ˆå¯ç”¨äºæ ‡é¢˜ï¼‰ */
.gold-underline {
  position: relative;
  display: inline-block;
}
.gold-underline::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -8px;
  width: 60px;
  height: 3px;
  background: linear-gradient(90deg, var(--color-gold), var(--color-gold-dark));
}

@layer utilities {
  .bg-hero { background-image: linear-gradient(135deg, var(--color-hero-from), var(--color-hero-to)); }
  .bg-app { background-color: var(--color-bg); }
  .bg-surface { background-color: var(--color-surface); }
  .bg-surface-2 { background-color: var(--color-surface-2); }
  .bg-studio-dark { background-color: #000000; } /* çº¯é»‘èƒŒæ™¯ */
  .text-foreground { color: var(--color-foreground); }
  .text-muted-foreground { color: var(--color-muted-foreground); }
  .text-link { color: var(--color-link); }
  .border-default { border-color: var(--color-border); }

  /* ğŸ¨ å¤é“œé‡‘å·¥å…·ç±» */
  .text-gold { color: var(--color-gold); }
  .bg-gold { background-color: var(--color-gold); }
  .border-gold { border-color: var(--color-gold); }
  .hover\:text-gold:hover { color: var(--color-gold-dark); }
  .hover\:bg-gold:hover { background-color: var(--color-gold-dark); }

  /* æç®€æŒ‰é’®æ ·å¼ - é»‘åº•ç™½å­— / ç™½åº•é»‘å­— */
  .btn-minimal {
    @apply px-6 py-3 border-2 transition-all duration-300;
    @apply font-medium tracking-wider uppercase text-sm;
  }
  .btn-minimal-light {
    @apply btn-minimal bg-white text-black border-black;
    @apply hover:bg-black hover:text-white;
  }
  .btn-minimal-dark {
    @apply btn-minimal bg-black text-white border-white;
    @apply hover:bg-white hover:text-black;
  }
  .btn-gold {
    @apply btn-minimal bg-gold text-black border-gold;
    @apply hover:bg-gold-dark;
  }

  /* å¤§ç•™ç™½æ¨¡å— */
  .section-spacious {
    @apply py-16 md:py-24 px-6 md:px-12;
  }

  /* Hide scrollbars while keeping scrollability */
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }
}

@layer components {
  .tg-card {
    @apply rounded-[28px] border border-border bg-gradient-to-b from-surface to-surface-2 shadow-[0_25px_60px_rgba(0,0,0,0.18)];
  }
  .tg-card-body {
    @apply flex flex-col gap-4 p-6;
  }
  .tg-card-title {
    @apply text-lg font-semibold text-foreground;
  }
  .tg-card-actions {
    @apply mt-2 flex flex-wrap gap-2;
  }

  .tg-btn {
    @apply inline-flex items-center justify-center rounded-2xl border border-transparent px-5 py-2 text-sm font-semibold tracking-wide transition;
  }
  .tg-btn-primary {
    @apply tg-btn bg-gradient-to-r from-[#f4b968] via-[#f0842b] to-[#f05452] text-black shadow-[0_18px_35px_rgba(240,132,43,0.35)] hover:brightness-110;
  }
  .tg-btn-outline {
    @apply tg-btn border-border bg-transparent text-foreground hover:border-primary hover:text-primary;
  }
  .tg-btn-ghost {
    @apply tg-btn border-transparent bg-transparent text-muted-foreground hover:text-foreground;
  }
  .tg-btn-danger {
    @apply tg-btn bg-gradient-to-r from-red-500 to-red-400 text-white shadow-[0_18px_35px_rgba(248,113,113,0.35)];
  }
  .tg-btn-sm {
    @apply px-3 py-1 text-xs;
  }
  .tg-btn:disabled {
    @apply cursor-not-allowed opacity-60;
  }

  .tg-tabs {
    @apply grid gap-3 rounded-[24px] border border-border shadow-inner shadow-black/5 p-3 md:grid-cols-3 bg-surface;
  }
  .tg-tab {
    @apply flex flex-col rounded-[18px] border border-transparent bg-transparent px-4 py-3 text-left transition;
  }
  .tg-tab-active {
    @apply border-border bg-card shadow-[0_18px_30px_rgba(0,0,0,0.12)];
  }
  .tg-tab-title {
    @apply text-sm font-semibold text-foreground;
  }
  .tg-tab-desc {
    @apply text-xs text-muted-foreground;
  }

  .tg-badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium;
  }
  .tg-badge-primary {
    @apply tg-badge bg-emerald-500/15 text-emerald-400;
  }
  .tg-badge-soft {
    @apply tg-badge bg-muted text-muted-foreground;
  }
  .tg-badge-warning {
    @apply tg-badge bg-amber-500/15 text-amber-400;
  }

  .tg-input,
  .tg-textarea,
  .tg-select {
    @apply w-full rounded-2xl border border-border/80 bg-surface px-4 py-2 text-sm text-foreground transition focus:border-primary focus:ring-2 focus:ring-primary;
  }
  .tg-textarea {
    @apply min-h-[120px] resize-y;
  }

  .tg-modal {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur;
  }
  .tg-modal-box {
    @apply w-full max-w-3xl rounded-[32px] border border-border bg-gradient-to-b from-surface to-surface-2 p-8 shadow-[0_40px_80px_rgba(0,0,0,0.45)];
  }
}

a {
  color: var(--color-link);
  text-decoration: none;
  transition: color 0.2s ease;
}
a:hover { 
  color: var(--color-gold-dark);
  opacity: 0.9; 
}

button {
  @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  @apply focus-visible:ring-gold focus-visible:ring-offset-black;
  transition: all 0.3s ease;
}

/* å†å²è®°å½•ä¾§è¾¹æŠŠæ‰‹ï¼šLight / Dark ä¸åŒé…è‰² */
.history-handle {
  border-width: 1px;
  border-right-width: 0;
}

html[data-theme='light'] .history-handle {
  background-color: rgba(196, 154, 108, 0.05); /* æ·¡é‡‘è‰²åº• */
  border-color: rgba(196, 154, 108, 0.45);
  color: var(--color-foreground);
}

html[data-theme='dark'] .history-handle {
  background-color: rgba(196, 154, 108, 0.18); /* Dark æ¨¡å¼ä¸‹ç¨å¼ºçš„é‡‘è‰²å— */
  border-color: rgba(196, 154, 108, 0.7);
  color: var(--color-foreground);
}
